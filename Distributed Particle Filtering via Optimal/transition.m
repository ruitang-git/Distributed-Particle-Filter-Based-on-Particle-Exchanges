%% state transition model
function y = transition(x,t,sigma_u)
% g(x) = D.x m + v
%  Input
%  t: state transition interval

D = [1 0 t 0 0.5*t^2 0;...
     0 1 0 t 0 0.5*t^2;...
     0 0 1 0 t 0;...
     0 0 0 1 0 t;...
     0 0 0 0 1 0;...
     0 0 0 0 0 1];
R = sigma_u^2 * ...
     [1/20*t^5 0 1/8*t^4 0 1/6*t^3 0;...
      0 1/20*t^5 0 1/8*t^4 0 1/6*t^3;...
      1/8*t^4 0 1/3*t^3 0 1/2*t^2  0;...
      0 1/8*t^4 0 1/3*t^3 0 1/2*t^2 ;...
      1/6*t^3 0 1/2*t^2 0 t 0       ;...
      0 1/6*t^3 0 1/2*t^2 0 t      ];
mu = zeros(6,1);
v = mu + chol(R).'*randn(6,1);
y = D*x + v;

